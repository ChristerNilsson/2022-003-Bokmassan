// Generated by CoffeeScript 2.5.1
var SEPARATOR, TextDisplay, twSEP;

SEPARATOR = ' • ';

twSEP = 0;

TextDisplay = class TextDisplay {
  constructor(dx, dy, dw1, dh, ts) {
    this.dx = dx;
    this.dy = dy;
    this.dw = dw1;
    this.dh = dh;
    this.ts = ts;
    this.dw = Math.round(this.dw);
    this.dh = Math.round(this.dh);
    this.ts = Math.round(this.ts);
    this.pg = createGraphics(this.dw, this.dh * 5); // Klarar ABCAB med scroll
  }

  update(text) {
    var group, i, index, j, l, len, len1, n, name, o, ref, results, summa, w, widths, wx, wy;
    this.text = text;
    this.names = text.length === 0 ? [] : this.text.split(', ');
    if (this.names.length === 0) {
      this.groups = [];
    }
    if (this.names.length === 1) {
      this.groups = [[0]];
    }
    textSize(this.ts);
    twSEP = textWidth(SEPARATOR);
    widths = this.names.map(function(name) {
      return Math.round(textWidth(name));
    });
    //widths.sort (a,b) -> parseInt(a[0]) - parseInt(b[0])
    //widths.reverse()
    summa = 0;
    for (l = 0, len = widths.length; l < len; l++) {
      w = widths[l];
      summa += w;
    }
    if (summa === 0) {
      return [];
    }
    this.groups = this.gruppera(widths, this.dw);
    this.groups = this.groups.map(function(group) {
      return group.sort();
    });
    this.groups.sort();
    // skapa image med grupperna A, AB, ABCAB, ABCDAB
    n = this.groups.length;
    if (n < 2) {
      n += 1;
    } else {
      n += 2;
    }
    this.pg.textSize(this.ts);
    this.pg.background("black");
    this.p = 0;
    ref = range(n);
    results = [];
    for (o = 0, len1 = ref.length; o < len1; o++) {
      i = ref[o];
      group = this.groups[i % this.groups.length];
      wx = 0;
      wy = (i + 0.8) * this.dh;
      results.push((function() {
        var len2, p, ref1, results1;
        ref1 = range(group.length);
        results1 = [];
        for (p = 0, len2 = ref1.length; p < len2; p++) {
          j = ref1[p];
          index = group[j];
          name = this.names[index];
          if (j < group.length - 1) {
            name += SEPARATOR;
          }
          this.pg.fill(index === 0 ? 'white' : 'gray');
          this.pg.text(name, wx, wy);
          results1.push(wx += this.pg.textWidth(name));
        }
        return results1;
      }).call(this));
    }
    return results;
  }

  draw() {
    var n;
    n = this.groups.length;
    if (n === 0) {
      return;
    }
    if (n <= 2) {
      return image(this.pg, this.dx, this.dy, this.dw, n * this.dh, 0, 0, this.dw, n * this.dh);
    } else {
      image(this.pg, this.dx, this.dy, this.dw, 2 * this.dh, 0, Math.round(this.p), this.dw, 2 * this.dh);
      return this.p = (this.p + 0.25) % (this.pg.height - 2 * this.dh);
    }
  }

  gruppera(widths, dw) {
    var bestGroups, bestSums, lastGroup, lastSum, n;
    // prova att få in alla i först EN, därefter TVÅ grupper
    // Går inte det, öka antal grupper
    n = widths.length === 1 ? 1 : 2;
    while (true) {
      [bestGroups, bestSums] = this.grupperaRandom(widths, n);
      lastSum = _.last(bestSums); // bredaste gruppen
      lastGroup = _.last(bestGroups);
      if (lastSum + (lastGroup.length - 1) * twSEP <= dw) {
        return bestGroups;
      }
      n++;
    }
  }

  grupperaRandom(widths, n, m = 1000) {
    var best, bestGroups, bestSums, diff, groups, i, j, k, l, len, len1, o, ref, ref1, sums;
    // widths = bredderna
    // n = antal grupper
    // m = antal försök
    best = 999999;
    ref = range(m);
    for (l = 0, len = ref.length; l < len; l++) {
      k = ref[l];
      groups = range(n).map(function() {
        return [];
      });
      sums = range(n).map(function() {
        return 0;
      });
      ref1 = range(widths.length);
      for (o = 0, len1 = ref1.length; o < len1; o++) {
        i = ref1[o];
        j = Math.floor(Math.random() * n);
        groups[j].push(i);
        sums[j] += widths[i];
      }
      sums.sort(function(a, b) {
        return parseInt(a) - parseInt(b);
      });
      diff = sums[n - 1] - sums[0];
      if (diff < best) {
        best = diff;
        bestGroups = groups;
        bestSums = sums;
      }
    }
    // console.log @names
    // console.log widths
    // console.log bestGroups
    // console.log bestSums
    return [bestGroups, bestSums];
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGV4dFNjcm9sbGVyLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXFRleHRTY3JvbGxlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsU0FBQSxFQUFBLFdBQUEsRUFBQTs7QUFBQSxTQUFBLEdBQVk7O0FBQ1osS0FBQSxHQUFROztBQUVGLGNBQU4sTUFBQSxZQUFBO0VBQ0MsV0FBYyxHQUFBLElBQUEsS0FBQSxJQUFBLElBQUEsQ0FBQTtJQUFDLElBQUMsQ0FBQTtJQUFHLElBQUMsQ0FBQTtJQUFHLElBQUMsQ0FBQTtJQUFHLElBQUMsQ0FBQTtJQUFHLElBQUMsQ0FBQTtJQUMvQixJQUFDLENBQUEsRUFBRCxHQUFNLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBQyxDQUFBLEVBQVo7SUFDTixJQUFDLENBQUEsRUFBRCxHQUFNLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBQyxDQUFBLEVBQVo7SUFDTixJQUFDLENBQUEsRUFBRCxHQUFNLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBQyxDQUFBLEVBQVo7SUFDTixJQUFDLENBQUEsRUFBRCxHQUFNLGNBQUEsQ0FBZSxJQUFDLENBQUEsRUFBaEIsRUFBb0IsSUFBQyxDQUFBLEVBQUQsR0FBTSxDQUExQixFQUpPO0VBQUE7O0VBTWQsTUFBUyxDQUFDLElBQUQsQ0FBQTtBQUNWLFFBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBO0lBQUUsSUFBQyxDQUFBLElBQUQsR0FBUTtJQUNSLElBQUMsQ0FBQSxLQUFELEdBQVksSUFBSSxDQUFDLE1BQUwsS0FBYSxDQUFoQixHQUF1QixFQUF2QixHQUErQixJQUFDLENBQUEsSUFBSSxD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gKIgJ1xyXG50d1NFUCA9IDBcclxuXHJcbmNsYXNzIFRleHREaXNwbGF5XHJcblx0Y29uc3RydWN0b3IgOiAoQGR4LEBkeSxAZHcsQGRoLEB0cykgLT5cclxuXHRcdEBkdyA9IE1hdGgucm91bmQgQGR3XHJcblx0XHRAZGggPSBNYXRoLnJvdW5kIEBkaFxyXG5cdFx0QHRzID0gTWF0aC5yb3VuZCBAdHNcclxuXHRcdEBwZyA9IGNyZWF0ZUdyYXBoaWNzIEBkdywgQGRoICogNSAjIEtsYXJhciBBQkNBQiBtZWQgc2Nyb2xsXHJcblxyXG5cdHVwZGF0ZSA6ICh0ZXh0KSAtPlxyXG5cdFx0QHRleHQgPSB0ZXh0XHJcblx0XHRAbmFtZXMgPSBpZiB0ZXh0Lmxlbmd0aD09MCB0aGVuIFtdIGVsc2UgQHRleHQuc3BsaXQgJywgJ1xyXG5cdFx0aWYgQG5hbWVzLmxlbmd0aCA9PSAwIHRoZW4gQGdyb3VwcyA9IFtdXHJcblx0XHRpZiBAbmFtZXMubGVuZ3RoID09IDEgdGhlbiBAZ3JvdXBzID0gW1swXV1cclxuXHRcdHRleHRTaXplIEB0c1xyXG5cdFx0dHdTRVAgPSB0ZXh0V2lkdGggU0VQQVJBVE9SXHJcblx0XHR3aWR0aHMgPSBAbmFtZXMubWFwIChuYW1lKSAtPiBNYXRoLnJvdW5kKHRleHRXaWR0aChuYW1lKSlcclxuXHRcdCN3aWR0aHMuc29ydCAoYSxiKSAtPiBwYXJzZUludChhWzBdKSAtIHBhcnNlSW50KGJbMF0pXHJcblx0XHQjd2lkdGhzLnJldmVyc2UoKVxyXG5cdFx0c3VtbWEgPSAwXHJcblx0XHRmb3IgdyBpbiB3aWR0aHNcclxuXHRcdFx0c3VtbWEgKz0gd1xyXG5cdFx0aWYgc3VtbWEgPT0gMCB0aGVuIHJldHVybiBbXVxyXG5cdFx0QGdyb3VwcyA9IEBncnVwcGVyYSB3aWR0aHMsQGR3XHJcblx0XHRAZ3JvdXBzID0gQGdyb3Vwcy5tYXAgKGdyb3VwKSAtPiBncm91cC5zb3J0KClcclxuXHRcdEBncm91cHMuc29ydCgpXHJcblxyXG5cdFx0IyBza2FwYSBpbWFnZSBtZWQgZ3J1cHBlcm5hIEEsIEFCLCBBQkNBQiwgQUJDREFCXHJcblx0XHRuID0gQGdyb3Vwcy5sZW5ndGhcclxuXHRcdGlmIG4gPCAyIHRoZW4gbis9MSBlbHNlIG4rPTJcclxuXHRcdEBwZy50ZXh0U2l6ZSBAdHNcclxuXHRcdEBwZy5iYWNrZ3JvdW5kIFwiYmxhY2tcIlxyXG5cdFx0QHAgPSAwXHJcblx0XHRmb3IgaSBpbiByYW5nZSBuXHJcblx0XHRcdGdyb3VwID0gQGdyb3Vwc1tpICUgQGdyb3Vwcy5sZW5ndGhdXHJcblx0XHRcdHd4ID0gMFxyXG5cdFx0XHR3eSA9IChpICsgMC44KSAqIEBkaFxyXG5cdFx0XHRmb3IgaiBpbiByYW5nZSBncm91cC5sZW5ndGggXHJcblx0XHRcdFx0aW5kZXggPSBncm91cFtqXVxyXG5cdFx0XHRcdG5hbWUgPSBAbmFtZXNbaW5kZXhdXHJcblx0XHRcdFx0aWYgaiA8IGdyb3VwLmxlbmd0aC0xIHRoZW4gbmFtZSArPSBTRVBBUkFUT1JcclxuXHRcdFx0XHRAcGcuZmlsbCBpZiBpbmRleCA9PSAwIHRoZW4gJ3doaXRlJyBlbHNlICdncmF5J1xyXG5cdFx0XHRcdEBwZy50ZXh0IG5hbWUsIHd4LHd5XHJcblx0XHRcdFx0d3ggKz0gQHBnLnRleHRXaWR0aCBuYW1lXHJcblxyXG5cdGRyYXcgOiAoKSAtPlxyXG5cdFx0biA9IEBncm91cHMubGVuZ3RoXHJcblx0XHRpZiBuID09IDAgdGhlbiByZXR1cm5cclxuXHRcdGlmIG4gPD0gMlxyXG5cdFx0XHRpbWFnZSBAcGcsIEBkeCxAZHksQGR3LG4qQGRoLCAwLDAsQGR3LG4qQGRoXHJcblx0XHRlbHNlXHJcblx0XHRcdGltYWdlIEBwZywgQGR4LEBkeSxAZHcsMipAZGgsIDAsTWF0aC5yb3VuZChAcCksQGR3LDIqQGRoXHJcblx0XHRcdEBwID0gKEBwKzAuMjUpICUgKEBwZy5oZWlnaHQtMipAZGgpXHJcblxyXG5cdGdydXBwZXJhIDogKHdpZHRocyxkdykgLT5cclxuXHRcdCMgcHJvdmEgYXR0IGbDpSBpbiBhbGxhIGkgZsO2cnN0IEVOLCBkw6RyZWZ0ZXIgVFbDhSBncnVwcGVyXHJcblx0XHQjIEfDpXIgaW50ZSBkZXQsIMO2a2EgYW50YWwgZ3J1cHBlclxyXG5cdFx0biA9IGlmIHdpZHRocy5sZW5ndGggPT0gMSB0aGVuIDEgZWxzZSAyXHJcblx0XHR3aGlsZSB0cnVlXHJcblx0XHRcdFtiZXN0R3JvdXBzLGJlc3RTdW1zXSA9IEBncnVwcGVyYVJhbmRvbSB3aWR0aHMsblxyXG5cdFx0XHRsYXN0U3VtID0gXy5sYXN0IGJlc3RTdW1zICMgYnJlZGFzdGUgZ3J1cHBlblxyXG5cdFx0XHRsYXN0R3JvdXAgPSBfLmxhc3QgYmVzdEdyb3Vwc1xyXG5cdFx0XHRpZiBsYXN0U3VtICsgKGxhc3RHcm91cC5sZW5ndGgtMSkgKiB0d1NFUCA8PSBkd1xyXG5cdFx0XHRcdHJldHVybiBiZXN0R3JvdXBzXHJcblx0XHRcdG4rK1xyXG5cclxuXHRncnVwcGVyYVJhbmRvbSA6ICh3aWR0aHMsbixtPTEwMDApIC0+XHJcblx0XHQjIHdpZHRocyA9IGJyZWRkZXJuYVxyXG5cdFx0IyBuID0gYW50YWwgZ3J1cHBlclxyXG5cdFx0IyBtID0gYW50YWwgZsO2cnPDtmtcclxuXHRcdGJlc3QgPSA5OTk5OTlcclxuXHRcdGZvciBrIGluIHJhbmdlIG1cclxuXHRcdFx0Z3JvdXBzID0gcmFuZ2UobikubWFwIC0+IFtdXHJcblx0XHRcdHN1bXMgPSByYW5nZShuKS5tYXAgLT4gMFxyXG5cdFx0XHRmb3IgaSBpbiByYW5nZSB3aWR0aHMubGVuZ3RoXHJcblx0XHRcdFx0aiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pXHJcblx0XHRcdFx0Z3JvdXBzW2pdLnB1c2ggaVxyXG5cdFx0XHRcdHN1bXNbal0gKz0gd2lkdGhzW2ldXHJcblx0XHRcdHN1bXMuc29ydCAoYSxiKSAtPiBwYXJzZUludChhKSAtIHBhcnNlSW50KGIpXHJcblx0XHRcdGRpZmYgPSBzdW1zW24tMV0gLSBzdW1zWzBdXHJcblx0XHRcdGlmIGRpZmYgPCBiZXN0XHJcblx0XHRcdFx0YmVzdCA9IGRpZmZcclxuXHRcdFx0XHRiZXN0R3JvdXBzID0gZ3JvdXBzXHJcblx0XHRcdFx0YmVzdFN1bXMgPSBzdW1zXHJcblx0XHQjIGNvbnNvbGUubG9nIEBuYW1lc1xyXG5cdFx0IyBjb25zb2xlLmxvZyB3aWR0aHNcclxuXHRcdCMgY29uc29sZS5sb2cgYmVzdEdyb3Vwc1xyXG5cdFx0IyBjb25zb2xlLmxvZyBiZXN0U3Vtc1xyXG5cdFx0cmV0dXJuIFtiZXN0R3JvdXBzLGJlc3RTdW1zXVxyXG4iXX0=
//# sourceURL=c:\github\2022-003-Bokmassan\coffee\TextScroller.coffee